<div class="max-w-4xl mx-auto my-12 p-5">
  <div class="flex justify-between items-center mb-5">
    <h1 class="text-2xl font-bold">Ye Olde Rooms</h1>
    <div>
      <span>Logged in as: <strong><%= @username %></strong></span>
      <% if @is_admin %>
        | <a href="/admin" class="no-underline hover:underline">Admin Panel</a>
      <% end %>
      |
      <form method="post" action="/logout" class="inline">
        <button type="submit" class="bg-transparent border-0 cursor-pointer hover:underline">Logout</button>
      </form>
    </div>
  </div>

  <div class="mb-5 flex gap-3">
    <%= link_button('/rooms/new', 'Create New Room +') %>
    <a href="/worlds/builder" class="py-2 px-5 bg-blue-600 text-white no-underline hover:bg-blue-700">
      World Builder
    </a>
  </div>

  <% if @rooms && @rooms.length > 0 %>
    <div class="border border-3 border-dashed border-terminal-green-500">
      <% @rooms.each do |room| %>
        <div class="p-4 border-b border-gray-300 last:border-b-0">
          <div class="flex justify-between items-center">
            <div>
              <h3 class="m-0 mb-1 font-semibold text-xl"><%= room[:name] %></h3>
              <% if room[:description] && !room[:description].empty? %>
                <p class="m-0 text-lg"><%= room[:description] %></p>
              <% end %>
            </div>
            <%= link_button("/rooms/#{room[:id]}", 'Enter ->') %>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="p-10 text-center border-terminal-green-500 rounded">
      <p>You don't have any rooms yet. Create one to get started!</p>
    </div>
  <% end %>
</div>
