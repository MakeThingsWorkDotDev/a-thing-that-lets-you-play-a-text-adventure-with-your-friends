<div class="max-w-4xl mx-auto my-12 p-5">
  <div class="flex justify-between items-center mb-5">
    <h1 class="text-2xl font-bold">Your Rooms</h1>
    <div>
      <span class="text-gray-600">Logged in as: <strong><%= @username %></strong></span>
      <% if @is_admin %>
        <span class="text-green-600 ml-2">(Admin)</span>
        | <a href="/admin" class="text-blue-600 no-underline hover:underline">Admin Panel</a>
      <% end %>
      |
      <form method="post" action="/logout" class="inline">
        <button type="submit" class="bg-transparent border-0 text-red-600 underline cursor-pointer hover:text-red-700">Logout</button>
      </form>
    </div>
  </div>

  <div class="mb-5">
    <a href="/rooms/new" class="inline-block py-2 px-5 bg-blue-600 text-white no-underline rounded hover:bg-blue-700">Create New Room</a>
  </div>

  <% if @rooms && @rooms.length > 0 %>
    <div class="border border-gray-300 rounded bg-gray-50">
      <% @rooms.each do |room| %>
        <div class="p-4 border-b border-gray-300 last:border-b-0">
          <div class="flex justify-between items-center">
            <div>
              <h3 class="m-0 mb-1 font-semibold text-lg"><%= room[:name] %></h3>
              <% if room[:description] && !room[:description].empty? %>
                <p class="m-0 text-gray-600 text-sm"><%= room[:description] %></p>
              <% end %>
            </div>
            <a href="/rooms/<%= room[:id] %>" class="py-2 px-4 bg-green-600 text-white no-underline rounded hover:bg-green-700">Enter</a>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <div class="p-10 text-center text-gray-600 border border-gray-300 rounded bg-gray-50">
      <p>You don't have any rooms yet. Create one to get started!</p>
    </div>
  <% end %>
</div>
